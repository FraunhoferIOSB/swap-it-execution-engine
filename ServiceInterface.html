<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Service Dispatcher Interaction &mdash; SWAP-IT Execution Engine 0.9.9 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=be50ab7b"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Dispatcher Interface" href="Dispatcher.html" />
    <link rel="prev" title="Data Types" href="GenerateOPCUATypes.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            SWAP-IT Execution Engine
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="GettingStarted.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="ExecutionEngineLogic.html">Execution Engine Logic</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="DataObject.html">Execution Engine Data Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="GenerateOPCUATypes.html">Data Types</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Service Dispatcher Interaction</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Dispatcher.html">Dispatcher Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="ControlInterface.html">Control Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="Glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="Contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="related_projects.html">Related-Projects</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SWAP-IT Execution Engine</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="ExecutionEngineLogic.html">Execution Engine Logic</a></li>
      <li class="breadcrumb-item active">Service Dispatcher Interaction</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/ServiceInterface.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="service-dispatcher-interaction">
<span id="id1"></span><h1>Service Dispatcher Interaction<a class="headerlink" href="#service-dispatcher-interaction" title="Link to this heading"></a></h1>
<p>As stated before, the Execution Engine receives notifications about the completion of service executions. Here,
these information are deployed for two functionalities. First, the Execution Engine receives process parameters from the Service execution
as defined in the process description and adds them to the <a class="reference internal" href="DataObject.html#data-object"><span class="std std-ref">Execution Engine Data Object</span></a> (1, Figure 1). Second the information about the service completion
is handed over to the dispatcher by setting a Token (2, Figure 1).</p>
<p>Since a single Execution Engine can feature an arbitrary number of Clients is the control interface, the interaction between the Execution Engine
and these Clients is accomplished asynchronously. In addition, each of these Clients runs in a separate thread.</p>
<p>For the asynchronous communication between the Clients and the Execution Engine, the Execution Engine provides the one hand a dictionary
that lists all Services that are currently executed. Each Service in the dictionary is represented by an unique identifier, the context (Task)
of the service execution, a boolean variable that indicates whether the service execution is completed or not, and the name of the service.
As soon as a service execution is started by a Client, the Client adds the service to the dictionary. After the service completion,
the Client sets the boolean variable to TRUE. On the other side, the Execution Engine iterates through the execution dictionary and checks whether
Service executions are completed. If so, the client provides a token to the dispatcher, which then executes the service finished callback, and removes the
Service from the dictionary.</p>
<p>Similar to the execution dictionary, the Execution Engine provides a execution result dictionary. Here, Clients store the results of service executions.
Each result provides the name of the service, its unique identifier, the context (Tasks) of the service execution, a list with output variable
names, as well as a list with the corresponding variable names and variable types. If a client receives results from a service execution,
these results are matched with the specified Service output of the process description. Here, only results that are specified as Service output are
stored in the execution result dictionary.</p>
<p>In contrast to the execution dictionary, the execution result dictionary is not checked during the Execution Engine’s main loop. Instead,
the execution result dictionary is checked inside the <a class="reference internal" href="DispatcherCallbacks.html#service-finished-callback"><span class="std std-ref">Service Finished Callback</span></a>. In case that the Service, for which the Service Finished Callback <a class="reference internal" href="DispatcherCallbacks.html#service-finished-callback"><span class="std std-ref">Service Finished Callback</span></a>
is executed, is listed within the execution result dictionary, the results from the service are removed from the dictionary and added to the <a class="reference internal" href="DataObject.html#data-object"><span class="std std-ref">Execution Engine Data Object</span></a>.</p>
<figure class="align-default" id="id2">
<a class="reference internal image-reference" href="_images/DataObjectEEDispatcher.png"><img alt="Overview" src="_images/DataObjectEEDispatcher.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text"><strong>Figure 1:</strong> Interaction between Dispatcher, Control Interface and Data Object during a Service execution</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="GenerateOPCUATypes.html" class="btn btn-neutral float-left" title="Data Types" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Dispatcher.html" class="btn btn-neutral float-right" title="Dispatcher Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Fraunhofer IOSB Author (Florian Düwel).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>