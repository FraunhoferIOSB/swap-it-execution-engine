<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dispatcher Callbacks &mdash; SWAP-IT Execution Engine 0.9.9 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=be50ab7b"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Dispatcher Configuration" href="DispatcherConfiguration.html" />
    <link rel="prev" title="Computational Logic" href="ComputationalLogic.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            SWAP-IT Execution Engine
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="GettingStarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="ExecutionEngineLogic.html">Execution Engine Logic</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="Dispatcher.html">Dispatcher Interface</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ComputationalLogic.html">Computational Logic</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Dispatcher Callbacks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#service-started-callback">Service Started Callback</a></li>
<li class="toctree-l3"><a class="reference internal" href="#service-finished-callback">Service Finished Callback</a></li>
<li class="toctree-l3"><a class="reference internal" href="#task-started-callback">Task Started Callback</a></li>
<li class="toctree-l3"><a class="reference internal" href="#task-finished-callback">Task Finished Callback</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-callback">Data Callback</a></li>
<li class="toctree-l3"><a class="reference internal" href="#service-finished-event-callback">Service Finished Event Callback</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="DispatcherConfiguration.html">Dispatcher Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="CustomDispatcherIntegration.html">Custom Dispatcher Integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ControlInterface.html">Control Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="Glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="Contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="related_projects.html">Related-Projects</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SWAP-IT Execution Engine</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="Dispatcher.html">Dispatcher Interface</a></li>
      <li class="breadcrumb-item active">Dispatcher Callbacks</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/DispatcherCallbacks.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="dispatcher-callbacks">
<span id="id1"></span><h1>Dispatcher Callbacks<a class="headerlink" href="#dispatcher-callbacks" title="Link to this heading"></a></h1>
<p>The Execution Engine’s Dispatcher Interface provides six callback functions in total. Their purpose and API is explained in the following sections:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#service-started-callback"><span class="std std-ref">Service Started Callback</span></a></p></li>
<li><p><a class="reference internal" href="#service-finished-callback"><span class="std std-ref">Service Finished Callback</span></a></p></li>
<li><p><a class="reference internal" href="#task-started-callback"><span class="std std-ref">Task Started Callback</span></a></p></li>
<li><p><a class="reference internal" href="#task-finished-callback"><span class="std std-ref">Task Finished Callback</span></a></p></li>
<li><p><a class="reference internal" href="#data-callback"><span class="std std-ref">Data Callback</span></a></p></li>
<li><p><a class="reference internal" href="#service-finished-event-callback"><span class="std std-ref">Service Finished Event Callback</span></a></p></li>
</ul>
</div></blockquote>
<p>These callbacks are not called from the Execution Engine, but from the integrated dispatcher. That means, the dispatcher controls the behavior of the Execution Engine,
which only reacts to the invocation of the callbacks. (besides the Service Finished Event Callback)</p>
<p>From these six callback, the execution engine only requires the <a class="reference internal" href="#service-started-callback"><span class="std std-ref">Service Started Callback</span></a>, <a class="reference internal" href="#service-finished-callback"><span class="std std-ref">Service Finished Callback</span></a> and the <a class="reference internal" href="#service-finished-event-callback"><span class="std std-ref">Service Finished Event Callback</span></a>
to execute processes. The additional callbacks are optional and only need to be considered, in case that it is required by the custom dispatcher.</p>
<section id="service-started-callback">
<span id="id2"></span><h2>Service Started Callback<a class="headerlink" href="#service-started-callback" title="Link to this heading"></a></h2>
<p>The Service Started Callback is executed to start a service execution and takes a OPC UA Client from the Execution Engine’s Control Interface, which the connects to a
target resource and executes the specified service. The Service Started Callback requires the following input parameter:</p>
<table class="docutils align-default" id="id8">
<caption><span class="caption-text"><strong>Service Started Callback</strong></span><a class="headerlink" href="#id8" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 33.3%" />
<col style="width: 33.3%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Argument</strong></p></th>
<th class="head"><p><strong>Type</strong></p></th>
<th class="head"><p><strong>Explanation</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>name</p></td>
<td><p>str</p></td>
<td><p>Name of the Service to be executed</p></td>
</tr>
<tr class="row-odd"><td><p>service_uuid</p></td>
<td><p>str</p></td>
<td><p>UUID that uniquely identifies the Service</p></td>
</tr>
<tr class="row-even"><td><p>task_context_uuid</p></td>
<td><p>str</p></td>
<td><div class="line-block">
<div class="line">UUID of the context (a Task) in which the</div>
<div class="line">Service is started</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>input_parameters</p></td>
<td><p>list[union(str, <a class="reference internal" href="GenerateOPCUATypes.html#enginestruct"><span class="std std-ref">EngineStruct</span></a>, list[str])]</p></td>
<td><div class="line-block">
<div class="line">List with input parameters. Each List element is</div>
<div class="line">either a string with a variable name that should</div>
<div class="line">be read from the <a class="reference internal" href="DataObject.html#data-object"><span class="std std-ref">Execution Engine Data Object</span></a></div>
<div class="line">or a literal value that is provided in the</div>
<div class="line"><a class="reference internal" href="GenerateOPCUATypes.html#enginestruct"><span class="std std-ref">EngineStruct</span></a> format.</div>
<div class="line">It’s possible to hand over an empty list.</div>
<div class="line">It’s also possible to hand over a “browse</div>
<div class="line">list” to access a field of a structure type.</div>
<div class="line">For example with [“value”, “field”, “[10]”],</div>
<div class="line">the input value is the “10th” element of the</div>
<div class="line">array “field” in the structure “value”.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>output_parameters</p></td>
<td><p>ordered_dictionary</p></td>
<td><div class="line-block">
<div class="line">Ordered Dictionary that specifies all output</div>
<div class="line">parameter that should be returned from a Service.</div>
<div class="line">The ordered dict contains strings in the format</div>
<div class="line">OrderedDict([(variable_name, data_type_name)])</div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
<section id="service-finished-callback">
<span id="id3"></span><h2>Service Finished Callback<a class="headerlink" href="#service-finished-callback" title="Link to this heading"></a></h2>
<p>The Service finished callback is executed after the completion of a Service execution and attaches output
variables from the service execution to the <a class="reference internal" href="DataObject.html#data-object"><span class="std std-ref">Execution Engine Data Object</span></a>. It requires the following input arguments:</p>
<table class="docutils align-default" id="id9">
<caption><span class="caption-text"><strong>Service Finished Callback</strong></span><a class="headerlink" href="#id9" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 33.3%" />
<col style="width: 33.3%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Argument</strong></p></th>
<th class="head"><p><strong>Type</strong></p></th>
<th class="head"><p><strong>Explanation</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>name</p></td>
<td><p>str</p></td>
<td><p>Name of the Service that is finished</p></td>
</tr>
<tr class="row-odd"><td><p>task_context_uuid</p></td>
<td><p>str</p></td>
<td><div class="line-block">
<div class="line">UUID of the context (a Task) in which the</div>
<div class="line">Service is finished</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>service_uuid</p></td>
<td><p>str</p></td>
<td><p>UUID that uniquely identifies the Service</p></td>
</tr>
</tbody>
</table>
</section>
<section id="task-started-callback">
<span id="id4"></span><h2>Task Started Callback<a class="headerlink" href="#task-started-callback" title="Link to this heading"></a></h2>
<p>The Task Started Callback is executed to add <a class="reference internal" href="DataObject.html#taskobject"><span class="std std-ref">Figure 2: TaskObjectType</span></a> to the <a class="reference internal" href="DataObject.html#data-object"><span class="std std-ref">Execution Engine Data Object</span></a>. In this context, specified input variables are attached to the
newly added <a class="reference internal" href="DataObject.html#taskobject"><span class="std std-ref">Figure 2: TaskObjectType</span></a>. It requires the following input arguments:</p>
<table class="docutils align-default" id="id10">
<caption><span class="caption-text"><strong>Task Started Callback</strong></span><a class="headerlink" href="#id10" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 33.3%" />
<col style="width: 33.3%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Argument</strong></p></th>
<th class="head"><p><strong>Type</strong></p></th>
<th class="head"><p><strong>Explanation</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>task_name</p></td>
<td><p>str</p></td>
<td><p>Name of the Task to be executed.</p></td>
</tr>
<tr class="row-odd"><td><p>task_uuid</p></td>
<td><p>str</p></td>
<td><div class="line-block">
<div class="line">UUID that uniquely identifies</div>
<div class="line">the Task.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>task_context_uuid</p></td>
<td><p>str</p></td>
<td><div class="line-block">
<div class="line">UUID of the context (a Task) in which</div>
<div class="line">the Task is started</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>task_input_parameter_names</p></td>
<td><p>ordered_dictionary</p></td>
<td><div class="line-block">
<div class="line">Ordered Dictionary that specifies all</div>
<div class="line">input parameter that should be added</div>
<div class="line">to the Task. The ordered dict contains</div>
<div class="line">a list with strings in the format:</div>
<div class="line">OrderedDict([(variable_name,</div>
<div class="line">data_type_name)])</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>task_input_parameter_instances</p></td>
<td><p>list[union(str, <a class="reference internal" href="GenerateOPCUATypes.html#enginestruct"><span class="std std-ref">EngineStruct</span></a>, list[str])]</p></td>
<td><div class="line-block">
<div class="line">List with input parameters. Each List</div>
<div class="line">element is either a string with a variable</div>
<div class="line">name that should be read from the</div>
<div class="line"><a class="reference internal" href="DataObject.html#data-object"><span class="std std-ref">Execution Engine Data Object</span></a></div>
<div class="line">or a literal value that is provided in</div>
<div class="line">the <a class="reference internal" href="GenerateOPCUATypes.html#enginestruct"><span class="std std-ref">EngineStruct</span></a> format.</div>
<div class="line">It’s possible to hand over an empty list.</div>
<div class="line">It’s also possible to hand over a “browse</div>
<div class="line">list” to access a field of a structure type.</div>
<div class="line">For example with [“value”, “field”, “[10]”],</div>
<div class="line">the input value is the “10th” element of the</div>
<div class="line">array “field” in the structure “value”.</div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
<section id="task-finished-callback">
<span id="id5"></span><h2>Task Finished Callback<a class="headerlink" href="#task-finished-callback" title="Link to this heading"></a></h2>
<p>The Task Finished Callback is executed to remove <a class="reference internal" href="DataObject.html#taskobject"><span class="std std-ref">Figure 2: TaskObjectType</span></a> from the <a class="reference internal" href="DataObject.html#data-object"><span class="std std-ref">Execution Engine Data Object</span></a>. In this context, specified output variables are extracted and added to the
Tasks Context’s <a class="reference internal" href="DataObject.html#taskobject"><span class="std std-ref">Figure 2: TaskObjectType</span></a>. It requires the following input arguments:</p>
<table class="docutils align-default" id="id11">
<caption><span class="caption-text"><strong>Task Finished Callback</strong></span><a class="headerlink" href="#id11" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 33.3%" />
<col style="width: 33.3%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Argument</strong></p></th>
<th class="head"><p><strong>Type</strong></p></th>
<th class="head"><p><strong>Explanation</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>name</p></td>
<td><p>str</p></td>
<td><p>Name of the Task that is finished</p></td>
</tr>
<tr class="row-odd"><td><p>uuid</p></td>
<td><p>str</p></td>
<td><p>UUID that uniquely identifies the Task</p></td>
</tr>
<tr class="row-even"><td><p>task_context_uuid</p></td>
<td><p>str</p></td>
<td><div class="line-block">
<div class="line">UUID of the context (a Task) in which the</div>
<div class="line">Service is finished</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>output_parameter</p></td>
<td><p>list[str]</p></td>
<td><div class="line-block">
<div class="line">List with variable names. Each listed variable read</div>
<div class="line">from the current Task and attached to the Task context.</div>
<div class="line">It’s possible to hand over an empty list.</div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
<section id="data-callback">
<span id="id6"></span><h2>Data Callback<a class="headerlink" href="#data-callback" title="Link to this heading"></a></h2>
<p>The Data Callback is executed to return a variable from the <a class="reference internal" href="DataObject.html#data-object"><span class="std std-ref">Execution Engine Data Object</span></a> to the dispatcher. It requires the following input arguments:</p>
<table class="docutils align-default" id="id12">
<caption><span class="caption-text"><strong>Data Callback</strong></span><a class="headerlink" href="#id12" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 33.3%" />
<col style="width: 33.3%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Argument</strong></p></th>
<th class="head"><p><strong>Type</strong></p></th>
<th class="head"><p><strong>Explanation</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>variable_name</p></td>
<td><p>str</p></td>
<td><p>Name of the variable, which value should be returned to the dispatcher.</p></td>
</tr>
<tr class="row-odd"><td><p>task_id</p></td>
<td><p>str</p></td>
<td><div class="line-block">
<div class="line">UUID that uniquely identifies</div>
<div class="line">the Task from which the variable should be read.</div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
<section id="service-finished-event-callback">
<span id="id7"></span><h2>Service Finished Event Callback<a class="headerlink" href="#service-finished-event-callback" title="Link to this heading"></a></h2>
<p>In contrast to the other callbacks, the Service Finished Event Callback is actively triggered from the Execution Engine.
Here the Service Finished Event Callback provides information to the dispatcher that a service execution was completed.
It requires the following input arguments:</p>
<table class="docutils align-default" id="id13">
<caption><span class="caption-text"><strong>Service Finished Event Callback</strong></span><a class="headerlink" href="#id13" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 33.3%" />
<col style="width: 33.3%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Argument</strong></p></th>
<th class="head"><p><strong>Type</strong></p></th>
<th class="head"><p><strong>Explanation</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>service_uuid</p></td>
<td><p>str</p></td>
<td><p>UUID of the service, which execution is completed.</p></td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ComputationalLogic.html" class="btn btn-neutral float-left" title="Computational Logic" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="DispatcherConfiguration.html" class="btn btn-neutral float-right" title="Dispatcher Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Fraunhofer IOSB Author (Florian Düwel).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>